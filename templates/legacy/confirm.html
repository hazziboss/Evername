{% extends "base.html" %}

{% block title %}Confirm Legacy Plan - EverName{% endblock %}

{% block content %}
<div class="container">
    <div class="card">
        <div class="card-header">
            <h1 class="card-title">‚úÖ Confirm & Lock Legacy Plan</h1>
            <p class="card-subtitle">Review and finalize your legacy planning settings</p>
        </div>

        <!-- Warning Banner -->
        <div class="alert alert-warning mb-4">
            <strong>‚ö†Ô∏è Important:</strong> Locking your legacy plan will activate liveness monitoring and prevent further changes until unlocked. Your inactivity timer will start counting.
        </div>

        <!-- Plan Summary -->
        <div class="card mb-4" style="background: var(--bg-dark);">
            <h3 style="margin-bottom: 1.5rem;">üìã Plan Summary</h3>

            <div style="margin-bottom: 2rem;">
                <h4 style="margin-bottom: 1rem;">Delegates (3)</h4>
                <div style="display: grid; gap: 1rem;">
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="flex" style="justify-content: space-between; align-items: center;">
                            <div>
                                <strong>Sarah Johnson</strong> (sarah.ever)
                                <div class="text-muted" style="font-size: 0.9rem;">Primary Delegate</div>
                            </div>
                            <span style="font-weight: 700; color: var(--success-color); font-size: 1.25rem;">50%</span>
                        </div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="flex" style="justify-content: space-between; align-items: center;">
                            <div>
                                <strong>Michael Chen</strong> (mchen.ever)
                                <div class="text-muted" style="font-size: 0.9rem;">Secondary Delegate</div>
                            </div>
                            <span style="font-weight: 700; color: var(--primary-light); font-size: 1.25rem;">30%</span>
                        </div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="flex" style="justify-content: space-between; align-items: center;">
                            <div>
                                <strong>Emily Rodriguez</strong> (emily.ever)
                                <div class="text-muted" style="font-size: 0.9rem;">Tertiary Delegate</div>
                            </div>
                            <span style="font-weight: 700; color: var(--text-muted); font-size: 1.25rem;">20%</span>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-bottom: 2rem;">
                <h4 style="margin-bottom: 1rem;">Protected Assets</h4>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Domains</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">3 domains</div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Wallets</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">12 wallets, 7 chains</div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">NFTs</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">47 NFTs</div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Social Profiles</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">5 platforms</div>
                    </div>
                </div>
            </div>

            <div>
                <h4 style="margin-bottom: 1rem;">Monitoring Settings</h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Inactivity Threshold</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">180 days</div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Grace Period</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">45 days</div>
                    </div>
                    <div style="padding: 1rem; background: var(--bg-card); border-radius: 0.5rem;">
                        <div class="text-muted" style="font-size: 0.9rem;">Notifications</div>
                        <div style="font-weight: 700; font-size: 1.25rem;">All Channels</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legacy Documents -->
        <div class="card mb-4" style="background: var(--bg-dark);">
            <h3 style="margin-bottom: 1.5rem;">üìÑ Attached Documents</h3>
            <div class="flex" style="gap: 2rem;">
                <div class="flex" style="align-items: center; gap: 0.5rem;">
                    <span style="font-size: 2rem;">üé•</span>
                    <div>
                        <div style="font-weight: 600;">Video Will</div>
                        <div class="text-muted" style="font-size: 0.9rem;">4:32 duration</div>
                    </div>
                </div>
                <div class="flex" style="align-items: center; gap: 0.5rem;">
                    <span style="font-size: 2rem;">üìã</span>
                    <div>
                        <div style="font-weight: 600;">Written Instructions</div>
                        <div class="text-muted" style="font-size: 0.9rem;">PDF, 2.5MB</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirmation Checklist -->
        <div class="card mb-4" style="background: var(--bg-dark);">
            <h3 style="margin-bottom: 1.5rem;">‚úîÔ∏è Confirmation Checklist</h3>
            <form id="confirmation-form">
                <div class="form-group">
                    <label class="flex" style="align-items: flex-start; gap: 1rem; cursor: pointer;">
                        <input type="checkbox" required style="width: 20px; height: 20px; margin-top: 0.25rem;">
                        <div>
                            <strong>I have reviewed all delegate assignments and allocations</strong>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">All delegates have been properly configured with correct percentages</p>
                        </div>
                    </label>
                </div>

                <div class="form-group">
                    <label class="flex" style="align-items: flex-start; gap: 1rem; cursor: pointer;">
                        <input type="checkbox" required style="width: 20px; height: 20px; margin-top: 0.25rem;">
                        <div>
                            <strong>All delegates have accepted their roles</strong>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">Delegates have been notified and confirmed acceptance</p>
                        </div>
                    </label>
                </div>

                <div class="form-group">
                    <label class="flex" style="align-items: flex-start; gap: 1rem; cursor: pointer;">
                        <input type="checkbox" required style="width: 20px; height: 20px; margin-top: 0.25rem;">
                        <div>
                            <strong>I understand the liveness monitoring process</strong>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">Inactivity counter starts now and monitors account activity</p>
                        </div>
                    </label>
                </div>

                <div class="form-group">
                    <label class="flex" style="align-items: flex-start; gap: 1rem; cursor: pointer;">
                        <input type="checkbox" required style="width: 20px; height: 20px; margin-top: 0.25rem;">
                        <div>
                            <strong>I acknowledge this plan will be locked after confirmation</strong>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">Plan changes require unlocking (resets inactivity counter)</p>
                        </div>
                    </label>
                </div>

                <div class="form-group">
                    <label class="flex" style="align-items: flex-start; gap: 1rem; cursor: pointer;">
                        <input type="checkbox" required style="width: 20px; height: 20px; margin-top: 0.25rem;">
                        <div>
                            <strong>I have uploaded all necessary legacy documents</strong>
                            <p class="text-muted" style="font-size: 0.9rem; margin: 0;">Video will and/or written instructions are attached</p>
                        </div>
                    </label>
                </div>
            </form>
        </div>

        <!-- Final Confirmation -->
        <div class="card mb-4" style="background: var(--gradient-1); color: white;">
            <div style="text-align: center; padding: 2rem;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">üîí</div>
                <h2 style="margin-bottom: 1rem;">Ready to Lock Your Legacy Plan?</h2>
                <p style="opacity: 0.9; margin-bottom: 2rem;">
                    Once confirmed, your plan will be activated and liveness monitoring will begin. You can unlock at any time to make changes.
                </p>
                <button class="btn btn-large" style="background: white; color: var(--primary-dark); padding: 1rem 3rem;" data-action="confirm-lock">
                    Confirm & Lock Plan
                </button>
            </div>
        </div>

        <!-- Actions -->
        <div class="flex gap-2">
            <a href="/legacy/overview" class="btn btn-secondary">Back to Overview</a>
            <button class="btn btn-outline" data-action="save-draft">Save as Draft</button>
        </div>
    </div>
</div>
{% endblock %}
